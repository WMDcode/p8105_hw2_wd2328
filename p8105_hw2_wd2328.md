Homework 2
================
William Donovan

``` r
library(tidyverse)
```

# Problem 1

`pols-month.csv` data-frame

``` r
pols_df = read_csv("data/pols-month.csv", na = c("NA", "", " ", ".")) |>
  janitor::clean_names() |>
  separate(
    mon, 
    c("year", "month", "day"), 
    sep = "-") |>
  mutate(
    month = month(
      as.numeric(month),
      label = TRUE,
      abbr = FALSE),
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem")) |>
  select(-c(prez_gop, prez_dem, day))

head(pols_df, 5)
```

    ## # A tibble: 5 × 9
    ##   year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <chr> <ord>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1 1947  January       23      51     253      23      45     198 dem      
    ## 2 1947  February      23      51     253      23      45     198 dem      
    ## 3 1947  March         23      51     253      23      45     198 dem      
    ## 4 1947  April         23      51     253      23      45     198 dem      
    ## 5 1947  May           23      51     253      23      45     198 dem

`snp.csv` data-frame

``` r
snp_df = read_csv("data/snp.csv", na = c("NA", "", " ", ".")) |>
  janitor::clean_names() |>
  filter(!is.na(date)) |>
  mutate(
  date = parse_date_time2(
    date, 
    orders = "mdy", 
    cutoff_2000 = 49)) |>
  separate(
    date,
    c("year", "month", "day"),
    sep = "-") |>
  mutate(
    month = month(
      as.numeric(month),
      label = TRUE,
      abbr = FALSE)) |>
  select(-day)

head(snp_df, 5)
```

    ## # A tibble: 5 × 3
    ##   year  month close
    ##   <chr> <ord> <dbl>
    ## 1 2015  July  2080.
    ## 2 2015  June  2063.
    ## 3 2015  May   2107.
    ## 4 2015  April 2086.
    ## 5 2015  March 2068.

`unemployment.csv` data-frame

``` r
unemployment_df = read_csv("data/unemployment.csv", na = c("NA", "", " ", ".")) |>
  janitor::clean_names() |>
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "unemployment") |>
  mutate(
    month = month(
      ym(paste(year, month)),
      label = TRUE,
      abbr = FALSE),
    year = as.character(year))

head(unemployment_df, 5)
```

    ## # A tibble: 5 × 3
    ##   year  month    unemployment
    ##   <chr> <ord>           <dbl>
    ## 1 1948  January           3.4
    ## 2 1948  February          3.8
    ## 3 1948  March             4  
    ## 4 1948  April             3.9
    ## 5 1948  May               3.5

Joining data-sets

``` r
snp_pols_df = full_join(pols_df, snp_df, by = c("year", "month"))
problem1_df = full_join(snp_pols_df, unemployment_df, by = c("year", "month"))

head(problem1_df, 5)
```

    ## # A tibble: 5 × 11
    ##   year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president close
    ##   <chr> <ord>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>
    ## 1 1947  January       23      51     253      23      45     198 dem          NA
    ## 2 1947  February      23      51     253      23      45     198 dem          NA
    ## 3 1947  March         23      51     253      23      45     198 dem          NA
    ## 4 1947  April         23      51     253      23      45     198 dem          NA
    ## 5 1947  May           23      51     253      23      45     198 dem          NA
    ## # ℹ 1 more variable: unemployment <dbl>

These data-sets are comprised of historical political and economic data.
`pols-month.csv` contains monthly data from 1947-2015 for the numbers of
governors, senators, and representatives that are members of the
democratic or republican party, as well as which party the president
belonged to. `snp.csv` contains the historical closing prices of the S&P
500 at the beginning of each month from 1950-2015. `unemployment.csv`
contains the percentage unemployment from 1948-2015.
