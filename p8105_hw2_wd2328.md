Homework 2
================
William Donovan

``` r
library(tidyverse)
library(readxl)
```

# Problem 1

`pols-month.csv` data-frame

``` r
pols_df = read_csv("data/pols-month.csv", na = c("NA", "", " ", ".")) |>
  janitor::clean_names() |>
  separate(
    mon, 
    c("year", "month", "day"), 
    sep = "-") |>
  mutate(
    month = month(
      as.numeric(month),
      label = TRUE,
      abbr = FALSE),
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem")) |>
  select(-c(prez_gop, prez_dem, day))

head(pols_df, 5)
```

    ## # A tibble: 5 × 9
    ##   year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <chr> <ord>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1 1947  January       23      51     253      23      45     198 dem      
    ## 2 1947  February      23      51     253      23      45     198 dem      
    ## 3 1947  March         23      51     253      23      45     198 dem      
    ## 4 1947  April         23      51     253      23      45     198 dem      
    ## 5 1947  May           23      51     253      23      45     198 dem

`snp.csv` data-frame

``` r
snp_df = read_csv("data/snp.csv", na = c("NA", "", " ", ".")) |>
  janitor::clean_names() |>
  filter(!is.na(date)) |>
  mutate(
  date = parse_date_time2(
    date, 
    orders = "mdy", 
    cutoff_2000 = 49)) |>
  separate(
    date,
    c("year", "month", "day"),
    sep = "-") |>
  mutate(
    month = month(
      as.numeric(month),
      label = TRUE,
      abbr = FALSE)) |>
  select(-day)

head(snp_df, 5)
```

    ## # A tibble: 5 × 3
    ##   year  month close
    ##   <chr> <ord> <dbl>
    ## 1 2015  July  2080.
    ## 2 2015  June  2063.
    ## 3 2015  May   2107.
    ## 4 2015  April 2086.
    ## 5 2015  March 2068.

`unemployment.csv` data-frame

``` r
unemployment_df = read_csv("data/unemployment.csv", na = c("NA", "", " ", ".")) |>
  janitor::clean_names() |>
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "unemployment") |>
  mutate(
    month = month(
      ym(paste(year, month)),
      label = TRUE,
      abbr = FALSE),
    year = as.character(year)) |>
  filter(!is.na(unemployment))

head(unemployment_df, 5)
```

    ## # A tibble: 5 × 3
    ##   year  month    unemployment
    ##   <chr> <ord>           <dbl>
    ## 1 1948  January           3.4
    ## 2 1948  February          3.8
    ## 3 1948  March             4  
    ## 4 1948  April             3.9
    ## 5 1948  May               3.5

Joining data-sets using `full_join()`

``` r
problem1_df = full_join(pols_df, snp_df, by = c("year", "month")) |>
  full_join(unemployment_df, by = c("year", "month"))

head(problem1_df, 5)
```

    ## # A tibble: 5 × 11
    ##   year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president close
    ##   <chr> <ord>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>
    ## 1 1947  January       23      51     253      23      45     198 dem          NA
    ## 2 1947  February      23      51     253      23      45     198 dem          NA
    ## 3 1947  March         23      51     253      23      45     198 dem          NA
    ## 4 1947  April         23      51     253      23      45     198 dem          NA
    ## 5 1947  May           23      51     253      23      45     198 dem          NA
    ## # ℹ 1 more variable: unemployment <dbl>

These data-sets are comprised of historical political, economic, and
financial data. `pols-month.csv` contains monthly records from 1947-2015
on the numbers of governors, senators, and representatives in either the
democratic or republican party, as well as the party of the president at
the time. `snp.csv` contains the historical closing prices of the S&P
500 at the beginning of each month from 1950-2015. `unemployment.csv`
gives unemployment percentages from 1948-2015. After joining these
data-sets, the resulting data-frame, `problem1_df`, contains 823 rows
and 11 columns, covering data from January 1947 to July 2015. Key
variables include `president` (president’s party), `close`(S&P 500
closing price), and `unemployment` (monthly unemployment rates).

# Problem 2

Mr. Trash Wheel

``` r
mr_tw_df = read_excel("data/202409 Trash Wheel Collection Data.xlsx",
                      sheet = "Mr. Trash Wheel",
                      na = c("NA", "", " ", "."),
                      range = "A2:N653") |>
  janitor::clean_names() |>
  mutate(
    year = as.numeric(year),
    sports_balls = as.integer(round(sports_balls)),
    wheel = "mr_trash_wheel")
```

Professor Trash Wheel

``` r
professor_tw_df = read_excel("data/202409 Trash Wheel Collection Data.xlsx",
                             sheet = "Professor Trash Wheel",
                             na = c("NA", "", " ", "."),
                             range = "A2:M120") |>
  janitor::clean_names() |>
  mutate(
    wheel = "professor_trash_wheel")
```

Gwynnda Trash Wheel

``` r
gwynnda_tw_df = read_excel("data/202409 Trash Wheel Collection Data.xlsx",
                           sheet = "Gwynnda Trash Wheel",
                           na = c("NA", "", " ", "."),
                           range = "A2:L265") |>
  janitor::clean_names() |>
  mutate(
    wheel = "gwynnda_trash_wheel")
```

Joining data-sets using `bind_rows()`

``` r
problem2_df = bind_rows(mr_tw_df, professor_tw_df, gwynnda_tw_df) |>
  select(wheel, everything())

head(problem2_df)
```

    ## # A tibble: 6 × 15
    ##   wheel  dumpster month  year date                weight_tons volume_cubic_yards
    ##   <chr>     <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ## 1 mr_tr…        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ## 2 mr_tr…        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ## 3 mr_tr…        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ## 4 mr_tr…        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ## 5 mr_tr…        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ## 6 mr_tr…        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ## # ℹ 8 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, sports_balls <int>, homes_powered <dbl>

The Trash Wheels remove litter and debris from the Inner Harbor in
Baltimore, Maryland and deposits it into dumpsters. These dumpsters are
transferred to waste-to-energy plants where the trash is incinerated and
converted to energy for homes. The data-sets contain information about
the dumpsters and their contents. There are three different Trash Wheels
included in this data-set (Mr, Professor, and Gwynnda Trash Wheels),
each with their own set of dumpsters and dumpster content information.
Information for the Trash Wheels includes dumpster number, date of
collection, weight and volume of litter, a breakdown of litter type and
amount, and homes powered. The total number of observations, or number
of rows, is 1032. The total weight of trash collected by Professor Trash
Wheel was 246.74 tons. The total number of cigarette butts collected by
Gwynnda Trash Wheel in June 2022 was 18,120.

# Problem 3
